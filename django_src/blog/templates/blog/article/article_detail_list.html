{% extends "blog/base.html" %}
 
{% block content %}
  <div><h5>뉴스 > {{ field }}</h5></div>
    <section class="site-section">
      <div class="container">
        <!-- <h3>추천 뉴스</h3>
        {% for recommend in recommends %}
          <div class="row">
            <div class="shadow-sm col-2 mb-2 pt-2 px-4 py-2 border">
              <div class = "news-image">
                <a href={{ recommend.news_url }}>
                  <img src={{ recommend.image_link }} alt="Image" class="img-fluid rounded mb-4" style="width: 100%;">
                </a>
              </div>  
            </div>
            <div class="col-10 mb-2 pt-5 px-4 py-2 border">
              <h4><a href={{ recommend.news_url }} class="text-black">{{recommend.news_title}}</a></h4>
              <div>{{ recommend.news_text }}</div>
              <div>{{ recommend.published_date }} <span class="mx-2">|</span></div>
            </div>
          </div>
          {% empty %}
        {% endfor %} -->

        
          {% for article in posts %}
          <div class="row">
            <div class="shadow-sm col-2 mb-1 pt-4 px-2 py-2 border">
              <div class = "news-image">
                <a href={{ article.news_url }}>
                  <img src={{ article.image_link }} alt="Image" class="img-fluid rounded mb-4" style="width: 90%">
                </a>    
              </div>
            </div>
            <div class="col-10 mb-1 pt-3 px-4 py-2 border">

              <form action="{% url 'articles_like' details.id%}" method="POST">
<!--              form이 실행되면 post 형식으로 details.id(게시물의 id 값)을 담아서 post_like url을 실행해라-->
                {% csrf_token %}
                <button type="submit" value="Like">좋아요</button>
                </form>
                <p>좋아요 {{ details.like_count }}개</p>
<!--            게시물의 좋아요 갯수-->
                {% for like_user in details.likes.all %}
<!--              게시물을 좋아요 누른 user들을 각각 like_user에 담고-->
                  <p>{{ like_user.username }}</p>
<!--            like_user에 담긴 유저들의 이름을 나타내라-->
                {% endfor %}

                <h5><a href={{ article.news_url }} class="text-black">{{ article.news_title }}</a></h5>
              <div>{{article.published_date}}</div>
              <div>{{ article.news_text }}</div>
            </div>
          </div>
            {% empty %}
            <div> 요청하신 Post가 없습니다. </div>
          
          {% endfor %}
        
        <div class="row mt-5 align-self-center">
          {% include "blog/pagination.html" %}
        </div>
      </div>
    </section>
{% endblock %}